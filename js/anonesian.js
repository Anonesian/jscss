"use strict";var ANONESIAN=window.ANONESIAN||{};ANONESIAN.addEventListener=window.addEventListener.bind(window);var body=document.body;function EventHandler(e){this.el=e.el,this.handlers={}}EventHandler.prototype.on=function(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},ANONESIAN.Event={newHandler:function(e){return new EventHandler(e)}};var AnonesianEventHandler=ANONESIAN.Event.newHandler({el:"AnonesianEventClick"}),btnTooltip=document.querySelector('[data-click="popupTooltip"]'),frmTooltip=document.querySelector(".adjustTooltip"),btnSearch=document.querySelector('[data-click="search"]'),fromSearch=document.querySelector(".form"),offCanvasMenu=document.querySelector(".js-headerOffCanvasMenu"),offCanvasTrigger=document.querySelector("[data-menu]"),offCanvasCloser=document.querySelectorAll("[data-menu-close]"),overlay=document.querySelector(".offCanvasMenu-backdrop"),nav=document.querySelector(".p-navSticky");const isDesktop=window.matchMedia("(min-width: 650px)").matches;if(isDesktop){let e=document.querySelectorAll(".menu.menu--structural"),t=document.querySelectorAll('[data-anonesian-click="menu"]'),a=document.querySelectorAll(".p-navEl");t.forEach(t=>{t.addEventListener("click",function(n){let s=t.parentNode.querySelector(".p-navEl-link"),o=s.offsetWidth,i=t.offsetWidth;t.offsetLeft,e.forEach(e=>{e.classList.remove("is-active")}),a.forEach(e=>{e.classList.remove("is-menuOpen")});let l=t.parentNode.querySelector(".menu.menu--structural");if(l&&(l.classList.add("is-active"),t.parentNode.classList.add("is-menuOpen"),!l.querySelector(".menu-arrow"))){let r=document.createElement("div");r.className="menu-arrow",l.insertBefore(r,l.firstChild),r.style.left=`${o+i/2}px`}})}),document.addEventListener("click",function(t){t.target.closest('[data-anonesian-click="menu"]')||(e.forEach(e=>{e.classList.remove("is-active")}),a.forEach(e=>{e.classList.remove("is-menuOpen")}))})}const scrollerContainer=document.querySelector(".hScroller"),scrollerContent=document.querySelector(".hScroller-scroll"),scrollEndButton=document.querySelector(".hScroller-action--end"),scrollStartButton=document.querySelector(".hScroller-action--start");if(scrollerContainer&&scrollerContent&&scrollEndButton&&scrollStartButton){let n=()=>{let e=scrollerContent.scrollLeft,t=scrollerContent.scrollWidth,a=scrollerContent.offsetWidth;t>a&&scrollEndButton.classList.add("is-active"),e<=0?scrollStartButton.classList.remove("is-active"):scrollStartButton.classList.add("is-active"),e+a>=t-1?scrollEndButton.classList.remove("is-active"):scrollEndButton.classList.add("is-active")};n(),scrollerContent.addEventListener("scroll",n),scrollEndButton.addEventListener("click",function(){scrollerContent.scrollBy({left:100,behavior:"smooth"})}),scrollStartButton.addEventListener("click",function(){scrollerContent.scrollBy({left:-100,behavior:"smooth"})})}ANONESIAN.addEventListener("click",e=>{frmTooltip.contains(e.target)||btnTooltip.contains(e.target)||frmTooltip.classList.remove("is-active")}),btnSearch.addEventListener("click",()=>{fromSearch.classList.contains("is-active")?fromSearch.classList.remove("is-active"):fromSearch.classList.add("is-active")}),document.addEventListener("click",e=>{fromSearch.contains(e.target)||btnSearch.contains(e.target)||fromSearch.classList.remove("is-active")}),document.querySelectorAll(".mode--iconic").forEach(function(e){e.addEventListener("click",function(t){e.classList.toggle("is-menuOpen")})}),document.addEventListener("click",function(e){document.querySelectorAll(".mode--iconic").forEach(function(t){t.contains(e.target)||e.target.closest(".adjustTooltip")||t.classList.remove("is-menuOpen")})}),document.querySelectorAll(".p-navgroup-link--search").forEach(function(e){e.addEventListener("click",function(t){e.classList.toggle("is-menuOpen")})}),document.addEventListener("click",function(e){document.querySelectorAll(".p-navgroup-link--search").forEach(function(t){t.contains(e.target)||e.target.closest(".form--wide")||t.classList.remove("is-menuOpen")})}),btnTooltip.addEventListener("click",()=>{frmTooltip.classList.contains("is-active")?frmTooltip.classList.remove("is-active"):frmTooltip.classList.add("is-active")});var scrollButtons=document.querySelectorAll(".button--scroll");let timeoutId=null,scrollTimeoutId=null;function toggleOffCanvasMenu(){offCanvasMenu.classList.toggle("active"),offCanvasMenu.querySelector(".offCanvasMenu-content").classList.toggle("active"),offCanvasMenu.classList.contains("active")?document.body.setAttribute("class","is-modalOpen"):document.body.removeAttribute("class","is-modalOpen")}scrollButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();var a=e.getAttribute("href"),n=document.querySelector(a);n?n.scrollIntoView({behavior:"smooth"}):"#top"===a?ANONESIAN.scrollTo({top:0,behavior:"smooth"}):ANONESIAN.scrollTo({top:document.body.offsetHeight,behavior:"smooth"})})}),offCanvasMenu.addEventListener("click",e=>{e.target===offCanvasMenu&&toggleOffCanvasMenu()}),offCanvasTrigger.addEventListener("click",toggleOffCanvasMenu),offCanvasCloser.forEach(e=>e.addEventListener("click",toggleOffCanvasMenu)),overlay.addEventListener("click",toggleOffCanvasMenu),ANONESIAN.addEventListener("scroll",()=>{window.scrollY>0?nav.classList.add("is-sticky"):nav.classList.remove("is-sticky"),clearTimeout(timeoutId),clearTimeout(scrollTimeoutId),scrollButtons.forEach(e=>e.classList.add("show")),scrollTimeoutId=setTimeout(()=>{scrollButtons.forEach(e=>e.classList.remove("show"))},3e3)}),ANONESIAN.ActionIndicator={globalAction:null,show:function(){this.globalAction||(this.globalAction=document.createElement("span"),this.globalAction.className="globalAction",this.globalAction.innerHTML='<span class="globalAction-bar"></span><span class="globalAction-block"><i></i><i></i><i></i></span>',document.body.appendChild(this.globalAction)),this.globalAction.classList.add("is-active")},hide:function(){this.globalAction&&this.globalAction.classList.remove("is-active")}};const shareButtons=document.querySelectorAll(".shareButtons-button"),currentUrl=window.location.href,currentTitle=document.title,currentDescription=document.querySelector('meta[property="og:description"]')?.getAttribute("content")||null,currentImage=document.querySelector('meta[property="og:image"]')?.getAttribute("content")||null;shareButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let a=e.getAttribute("data-href"),n=e.getAttribute("data-anonesian-init");if("web-share"===n){if(navigator.canShare){let s={title:currentTitle,text:currentDescription,url:currentUrl};try{navigator.share(s)}catch(o){}}}else a&&(a=(a=(a=a.replace("{url}",encodeURIComponent(currentUrl))).replace("{title}",encodeURIComponent(currentTitle))).replace("{image}",encodeURIComponent(currentImage)))})});var target=document.querySelector(".js-offCanvasNavTarget"),source=document.querySelector(".js-offCanvasNavSource"),isMobile=window.innerWidth<=500;if(target&&source&&isMobile){target.appendChild(source),source.classList.remove("p-nav-list","js-offCanvasNavSource"),source.classList.add("offCanvasMenu-list"),source.querySelectorAll(".p-navEl").forEach(function(e){e.classList.remove("p-navEl"),e.classList.add("offCanvasMenu-linkHolder")});var s,o,i,l,r,c=source.nextElementSibling;c&&(c.classList.remove("p-navEl"),c.classList.add("offCanvasMenu-linkHolder")),document.querySelectorAll(".p-navEl-link").forEach(function(e){e.classList.add("offCanvasMenu-link")}),document.querySelectorAll(".menu--structural").forEach(function(e){var t=document.createElement("ul");t.classList.add("offCanvasMenu-subList"),t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)}),document.querySelectorAll(".menu-content").forEach(function(e){var t=document.createElement("li");t.innerHTML=e.innerHTML,e.parentNode.replaceChild(t,e)}),document.querySelectorAll(".offCanvasMenu-linkHolder").forEach(function(e){var t=e.querySelector("ul.offCanvasMenu-subList");t&&(e.parentNode.insertBefore(t,e.nextSibling),t.querySelectorAll("li").forEach(function(e){e.innerHTML=e.innerHTML.replace(/menu-linkRow/g,"offCanvasMenu-link")}))})}var offCanvasMenuSplits=document.querySelectorAll(".offCanvasMenu-linkHolder a:nth-child(2)");function toggleMenuSplits(e){e.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let a=e.closest(".offCanvasMenu-linkHolder").nextElementSibling;e.classList.contains("is-active")?(e.classList.remove("is-active"),a.classList.remove("is-active"),a.style.height="0",e.setAttribute("aria-expanded","false")):(e.classList.add("is-active"),a.classList.add("is-active"),a.style.height=a.scrollHeight+"px",e.setAttribute("aria-expanded","true"))})})}function syncSelectedState(){let e=localStorage.getItem("_snid");if(!e)return;document.querySelectorAll(".is-selected").forEach(e=>{e.classList.remove("is-selected"),e.classList.contains("offCanvasMenu-subList")&&(e.style.height="")});let t=document.querySelectorAll(`.offCanvasMenu-link[data-nav-id="${e}"], .offCanvasMenu-subList .offCanvasMenu-link[data-nav-id="${e}"]`);t.forEach(e=>{let t=e.closest(".offCanvasMenu-linkHolder")||e.closest(".offCanvasMenu-subList")?.previousElementSibling;if(t){t.classList.add("is-selected");let a=t.querySelector(".offCanvasMenu-link--splitToggle");a&&(a.classList.add("is-active"),a.setAttribute("aria-expanded","true"));let n=t.nextElementSibling;n&&n.classList.contains("offCanvasMenu-subList")&&(n.classList.add("is-active"),n.style.height=n.scrollHeight+"px")}});let a=document.querySelectorAll(`.p-navEl-link[data-nav-id="${e}"], .menu-linkRow[data-nav-id="${e}"]`),n=document.querySelector(".p-sectionLinks-list");a.forEach(e=>{let t=e.closest(".p-navEl");if(t){t.classList.add("is-selected"),n&&(n.innerHTML="");let a=t.querySelector(".menu--structural");if(a&&n){let s=a.querySelectorAll(".menu-linkRow"),o=document.createDocumentFragment();s.forEach(e=>{let t=document.createElement("li");t.innerHTML=`<div class="p-navEl"><a href="${e.href}" class="p-navEl-link" data-nav-id="${e.dataset.navId}" data-anonesian-key="${e.dataset.anonesianKey||""}">${e.textContent}</a></div>`,o.appendChild(t)}),n.appendChild(o)}}})}function changeMode(e){var t=document.body.querySelector(`.mode${e}`),a=document.body.querySelector(".mode--iconic i"),n=document.body.querySelector(".mode--iconic"),s=document.body.querySelector(".adjustTooltip");if(t&&a&&s){switch(document.querySelectorAll(".modeSystem, .modeLight, .modeDark").forEach(function(e){e.classList.remove("is-active")}),t.classList.add("is-active"),s.classList.add("is-active"),e){case"System":a.innerHTML='<i class="fa-adjust"></i>',s.classList.remove("is-active"),n.classList.remove("is-menuOpen"),updateMetaTags("System");break;case"Light":a.innerHTML='<i class="fa-sun"></i>',s.classList.remove("is-active"),n.classList.remove("is-menuOpen"),updateMetaTags("Light");break;case"Dark":a.innerHTML='<i class="fa-moon"></i>',s.classList.remove("is-active"),n.classList.remove("is-menuOpen"),updateMetaTags("Dark")}var o=localStorage.getItem("navData"),i=o?JSON.parse(o):{},l={mode:e,icon:encodeURIComponent(a.innerHTML),selectedNavId:i.selectedNavId},r=btoa(JSON.stringify(l));localStorage.setItem("_anonesian",r),"System"===e?document.documentElement.removeAttribute("data-theme"):document.documentElement.setAttribute("data-theme",e.toLowerCase())}}function updateMetaTags(e){if(document.querySelectorAll('meta[name="theme-color"]').forEach(e=>e.remove()),"System"===e){let t=document.createElement("meta");t.name="theme-color",t.media="(prefers-color-scheme: light)",t.content="#062c46",document.head.appendChild(t);let a=document.createElement("meta");a.name="theme-color",a.media="(prefers-color-scheme: dark)",a.content="#0a1c29",document.head.appendChild(a)}else if("Light"===e){let n=document.createElement("meta");n.name="theme-color",n.media="(prefers-color-scheme: light)",n.content="#062c46",document.head.appendChild(n)}else if("Dark"===e){let s=document.createElement("meta");s.name="theme-color",s.media="(prefers-color-scheme: dark)",s.content="#0a1c29",document.head.appendChild(s)}}function clickHandler(){var e=document.body.querySelector('[data-mode="adjust"]');if(e){var t=e.querySelector('[data-click="modeSystem"]'),a=e.querySelector('[data-click="modeLight"]'),n=e.querySelector('[data-click="modeDark"]');t&&t.addEventListener("click",function(e){ANONESIAN.ActionIndicator.show(),setTimeout(function(){changeMode("System"),ANONESIAN.ActionIndicator.hide()},1e3)},!1),a&&a.addEventListener("click",function(e){ANONESIAN.ActionIndicator.show(),setTimeout(function(){changeMode("Light"),ANONESIAN.ActionIndicator.hide()},1e3)},!1),n&&n.addEventListener("click",function(e){ANONESIAN.ActionIndicator.show(),setTimeout(function(){changeMode("Dark"),ANONESIAN.ActionIndicator.hide()},1e3)},!1)}}function setMode(){var e=localStorage.getItem("_anonesian");if(e){var t=JSON.parse(atob(e)),a=document.body.querySelector(`.mode${t.mode}`),n=document.body.querySelector(".mode--iconic i");n.innerHTML=decodeURIComponent(t.icon),a.classList.add("is-active"),updateMetaTags(t.mode)}else{var a=document.body.querySelector(".modeSystem");a.classList.add("is-active");var n=document.body.querySelector(".mode--iconic i");n.innerHTML='<i class="fa-adjust"></i>';var t={mode:"System",icon:encodeURIComponent('<i class="fa-adjust"></i>')},e=btoa(JSON.stringify(t));localStorage.setItem("_anonesian",e),document.documentElement.removeAttribute("data-theme"),updateMetaTags("System")}}offCanvasMenuSplits.forEach(e=>{e.getAttributeNames().forEach(t=>e.removeAttribute(t)),e.setAttribute("class","offCanvasMenu-link offCanvasMenu-link--splitToggle"),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),e.setAttribute("tabindex","0")}),toggleMenuSplits(offCanvasMenuSplits),document.querySelectorAll(".offCanvasMenu-link, .p-navEl-link, .menu-linkRow, .offCanvasMenu-subList .offCanvasMenu-link").forEach(e=>{e.addEventListener("click",function(e){this.classList.contains("offCanvasMenu-link--splitToggle")||localStorage.setItem("_snid",this.dataset.navId)})}),syncSelectedState(),AnonesianEventHandler.on("modeSystem",function(){changeMode("System")}),AnonesianEventHandler.on("modeLight",function(){changeMode("Light")}),AnonesianEventHandler.on("modeDark",function(){changeMode("Dark")}),ANONESIAN.addEventListener("DOMContentLoaded",setMode),clickHandler();